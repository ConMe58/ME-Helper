<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kachel-Auswahl</title>
  <style>
    :root{
      --bg:#ffffff; --fg:#111; --muted:#666;
      --card:#f3f4f6; --border:#e5e7eb;
      --accent:#2563eb; --accent-contrast:#fff;
      --selected:#dbeafe; --shadow:0 1px 2px rgba(0,0,0,.07),0 3px 6px rgba(0,0,0,.06);
      --radius:14px;
    }
    @media(prefers-color-scheme:dark){
      :root{
        --bg:#0b0e12; --fg:#e8eaed; --muted:#98a2b3;
        --card:#12161c; --border:#1f2733;
        --accent:#60a5fa; --accent-contrast:#0b0e12;
        --selected:#152133; --shadow:0 1px 2px rgba(0,0,0,.5),0 6px 14px rgba(0,0,0,.35);
      }
    }
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:var(--bg);color:var(--fg);
      display:flex;justify-content:center
    }
    .wrap{width:min(1100px,94vw);margin:28px auto 80px}
    header{margin-bottom:16px;font-weight:700;font-size:20px}
    .output{
      background:var(--card);border:1px solid var(--border);
      border-radius:var(--radius);padding:14px;
      box-shadow:var(--shadow);margin-bottom:18px
    }
    .output div{margin:6px 0}
    .grid{
      display:grid;
      grid-template-columns:repeat(3,1fr); /* immer 3 Spalten */
      gap:14px;
      justify-items:stretch;
      align-items:stretch;
    }
    .tile{
      aspect-ratio:1/1; /* quadratisch */
      border:1px solid var(--border);
      border-radius:var(--radius);
      background:var(--card);
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      padding:10px;
      transition:transform .08s ease;
    }
    .tile:hover{transform:translateY(-2px)}
    .tile-header{
      text-align:center;
      font-weight:700;
      font-size:16px;
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .tile-footer{
      display:flex;
      justify-content:space-around;
      gap:6px;
    }
    .mini-btn{
      flex:1;
      border:1px solid var(--border);
      border-radius:8px;
      padding:4px;
      font-size:12px;
      cursor:pointer;
      background:var(--card);
    }
    .mini-btn.active{background:var(--accent);color:var(--accent-contrast)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>Kacheln anklicken → Sätze oben anzeigen</header>
    <section class="output" id="output"></section>
    <section class="grid" id="grid"></section>
  </div>

  <script>
    const tilesData = [
      {id:"pause",label:"Pause",sentence:"Gerade ist es zu viel, ich brauche eine Pause."},
      {id:"trinken",label:"Trinken",sentence:"Ich habe Durst und muss was trinken."},
      {id:"wc",label:"WC",sentence:"Ich muss auf Toilette."},
      {id:"medikamente",label:"Medikamente",sentence:"Ich brauche meine Medikamente."},
      {id:"lueften",label:"Lüften",sentence:"Bitte kurz durchlüften."},
      {id:"zaehne",label:"Zähneputzen",sentence:"Ich will Zähne putzen."},
      {id:"schmerzen",label:"Schmerzen",sentence:"Ich habe gerade starke Schmerzen."},
      {id:"crash",label:"Crash",sentence:"Ich bin gerade in einem starken Crash."},
      {id:"nicht",label:"Nicht sprechen",sentence:"Bitte jetzt nicht mit mir sprechen."}
    ];

    const grid=document.getElementById("grid");
    const output=document.getElementById("output");

    // Zustand: für jede Kachel ob aktiv + wie wichtig
    const state = {};
    tilesData.forEach(t => state[t.id] = {selected:false,importance:"normal"});

    function render(){
      grid.innerHTML="";
      tilesData.forEach(t=>{
        const tile=document.createElement("div");
        tile.className="tile";

        const head=document.createElement("div");
        head.className="tile-header";
        head.textContent=t.label;
        head.onclick=()=>{
          state[t.id].selected=!state[t.id].selected;
          update();
        };

        const foot=document.createElement("div");
        foot.className="tile-footer";

        const btn1=document.createElement("button");
        btn1.className="mini-btn"+(state[t.id].importance==="wichtig"?" active":"");
        btn1.textContent="Wichtig";
        btn1.onclick=(e)=>{
          e.stopPropagation();
          state[t.id].selected=true;
          state[t.id].importance="wichtig";
          update();
        };

        const btn2=document.createElement("button");
        btn2.className="mini-btn"+(state[t.id].importance==="sehr"?" active":"");
        btn2.textContent="Sehr wichtig";
        btn2.onclick=(e)=>{
          e.stopPropagation();
          state[t.id].selected=true;
          state[t.id].importance="sehr";
          update();
        };

        foot.appendChild(btn1);
        foot.appendChild(btn2);

        tile.appendChild(head);
        tile.appendChild(foot);
        grid.appendChild(tile);
      });
      update();
    }

    function update(){
      output.innerHTML="";
      tilesData.forEach(t=>{
        if(state[t.id].selected){
          const div=document.createElement("div");
          if(state[t.id].importance==="wichtig"){
            div.innerHTML="<b>"+t.sentence+"</b>";
          } else if(state[t.id].importance==="sehr"){
            div.innerHTML="<b><u>"+t.sentence+"</u></b>";
          } else {
            div.textContent=t.sentence;
          }
          output.appendChild(div);
        }
      });
      render();
    }

    render();
  </script>
</body>
</html>